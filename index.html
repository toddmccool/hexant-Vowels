<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Vowel Helper</title>
    <style>
      #hexant div {
        display: inline-block;
        width: 100px;
        height: 100px;
        text-align: center;
        vertical-align: middle;

        font-size: 25px;
        /*... other styles ...*/
        margin-right: 60px; /* adjust as needed */

        /* Target the last child of each row to remove the margin */
        #Oo_OH,
        #Oe,
        #UH_AH {
          margin-right: 0; /* Resetting margin for the last elements in each row */
        } /* Or whatever size you prefer */
        /* Other styles... */
      }
      #vowelSelection {
        display: flex;
        gap: 20px;
      }
      #suggestionOptions {
        display: none;
      }

      #hexantWrapper {
        text-align: center;
      }

      #topText,
      #bottomText {
        width: 100%;
        text-align: center;
        /* Remove default margins */
        padding: -20px;
      }

      #topText {
        margin-bottom: 15px; /* Adjust as needed */
      }

      #bottomText {
        margin-top: -10px; /* Adjust as needed */
      }

      #hexant {
        display: inline-block;
      }
    </style>
  </head>
  <body>
    <h3>
      <i
        >note: Above the passagio (in head voice/*falsetto*) you will modify to
        the top shrill vowels --- if you want a girthier chest voice, modify
        toward the bottom row of vowels -- if you want a less girthy chest
        (speaking range) voice, modifty toward the top shrill vowels</i
      >

      <br />

      in the Passagio you can choose how to sing the vowels, this presents a
      problem for some, <br /><br /><br />
      if you get <i>too tight</i> : you want to either
      <i>lower your volume </i>and/or
      <i> modify toward the top shrill vowels (at the top of the hexant)</i>,
      this will coax the headvoice<br />
      If that rolls off too much loud intensity, then lower your volume slightly
      and use AY for bright vowels or OH for dark vowels<br /><br />
      <br />
      If you are <i>too light</i> or you want to be really quiet/mellow when you
      sing, but maintain robustness then; <br />lower your volume and modify
      toward the bottom row vowels OR raise your volume and modify toward the
      top row of vowels <br /><br />
      <br />
      Everything else is fine tuning/balancing of these directions. SO, Let's
      try some specifics<br />
    </h3>
    <form id="form">
      <br />
      <label>Problem Word (or you can skip to "How that letter Sounds"): </label
      ><input type="text" id="problemWord" /><br /><br />
      <label>Problem Vowel Character in the Word: </label
      ><input type="text" id="problemVowelChar" maxlength="1" /><br /><br />

      <div id="vowelSelection">
        <div>
          How that letter Sounds
          <label>Bright:</label>
          <select id="brightVowel">
            <option value="">--Select--</option>
            <option value="Aa">Aa</option>
            <option value="eh">eh</option>
            <option value="ih">ih</option>
            <option value="ay">ay</option>
            <option value="ee">ee</option>
            <option value="iy">iy</option>
          </select>

          <label>Dark:</label>
          <select id="darkVowel">
            <option value="">--Select--</option>
            <option value="ah">ah</option>
            <option value="uh">uh</option>
            <option value="oe">oe</option>
            <option value="oh">oh</option>
            <option value="oo">oo</option>
          </select>
        </div>
      </div>
      <br /><br />

      <button type="button" onclick="showSuggestionOptions()">
        Show Suggestions
      </button>
      <div id="suggestionOptions">
        <label>Select Suggestion: </label>
        <select id="suggestionSelect">
          <!-- Filled dynamically --></select
        ><br /><br />
        <button type="button" onclick="generateSuggestion()">
          Generate Suggestion
        </button>
      </div>
    </form>

    <h2 id="suggestion"></h2>

    <!-- Adding explanatory divs around your Hexant -->
    <div id="hexantWrapper">
      <div id="topText">
        HEAD VOICE FRIENDLY : Narrow Shrill Vowels - get Loud!
      </div>
      <div id="hexant">
        <br />
        <div id="EE_AY">EE / AY</div>
        <div id="Oo_OH">Oo / OH</div>
        <br />
        <div id="IH">IH</div>
        <div id="Oe">Oe</div>
        <br />
        <div id="EH_AA">EH / Aa</div>
        <div id="UH_AH">UH / AH</div>
      </div>
      <div id="bottomText">
        BELLOWING SPEAKING VOICE FRIENDLY : Wide Vowels - get Quiet
      </div>
    </div>

    <script>
      const brightSuggestions = [
        { value: "Aa", text: "Aa for light volume" },
        { value: "eh", text: "Eh for speaking volume" },
        { value: "ih", text: "IH for medium volume" },
        { value: "ay", text: "Ay for LOUD Belting" },
        { value: "ee", text: "EE for a super narrow LOUD and shrill attack" },
      ];

      const darkSuggestions = [
        { value: "ah", text: "Ah for light volume" },
        { value: "uh", text: "Uh for speaking volume" },
        { value: "oe", text: "Oe for medium volume" },
        { value: "oh", text: "Oh for LOUD Belting" },
        { value: "oo", text: "Oo for a super narrow LOUD and shrill attack" },
      ];

      function showSuggestionOptions() {
        console.log("showSuggestionOptions called"); // Debug log
        const brightVowelElem = document.getElementById("brightVowel");
        const darkVowelElem = document.getElementById("darkVowel");
        const suggestionOptionsElem =
          document.getElementById("suggestionOptions");
        const suggestionSelectElem =
          document.getElementById("suggestionSelect");

        let suggestions = [];
        if (brightVowelElem.value) suggestions = brightSuggestions;
        else if (darkVowelElem.value) suggestions = darkSuggestions;

        console.log("Suggestions:", suggestions); // Debug log
        suggestionSelectElem.innerHTML =
          '<option value="">--Select--</option>' +
          suggestions
            .map((s) => `<option value="${s.value}">${s.text}</option>`)
            .join("");
        suggestionOptionsElem.style.display = "block";
      }

      function generateSuggestion() {
        const problemWordElem = document.getElementById("problemWord");
        const problemVowelCharElem =
          document.getElementById("problemVowelChar");
        const suggestionSelectElem =
          document.getElementById("suggestionSelect");
        const suggestionElem = document.getElementById("suggestion");

        let problemWord = problemWordElem.value;
        let problemVowelChar = problemVowelCharElem.value;
        let takenSuggestion = suggestionSelectElem.value.split(" ")[0];

        if (takenSuggestion) {
          const modifiedWord = problemWord.replace(
            new RegExp(problemVowelChar, "i"),
            takenSuggestion
          );
          suggestionElem.textContent = modifiedWord;

          console.log("Taken Suggestion:", takenSuggestion);
          document.querySelectorAll("#hexant div").forEach((div) => {
            div.style.backgroundColor = "";
            console.log("Div Text:", div.textContent);
          });

          // Replace the previous relevant part of your code with this corrected part.
          let hexantDiv = Array.from(
            document.querySelectorAll("#hexant div")
          ).find((div) => {
            const upperCaseDivText = div.textContent.toUpperCase();
            const upperCaseTakenSuggestion = takenSuggestion.toUpperCase();
            console.log("Checking Div:", upperCaseDivText);
            return upperCaseDivText.includes(upperCaseTakenSuggestion);
          });

          console.log("Hexant Div to Highlight:", hexantDiv);
          if (hexantDiv) hexantDiv.style.backgroundColor = "yellow";
        }
      }
    </script>
  </body>
</html>
